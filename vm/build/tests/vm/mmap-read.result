FAIL
Kernel panic in run: PANIC at ../../threads/thread.c:285 in thread_current(): assertion `is_thread(t)' failed.
Call stack: 0x8004217f61 0x80042070d0 0x800420a61e 0x800421b266 0x800421b433 0x800421b417 0x8004216460 0x8004215b98 0x800421b2c6 0x8004215464 0x800421d11b 0x800421cc5a 0x8004208d5c 0x800420917a 0x800421ee18 0x800421d6f0 0x800421bbda 0x8004207196 0x800421d127 0x800421cc5a 0x8004208d5c 0x800420917a 0x800421f055 0x800421ee02 0x800421d6f0 0x800421bbda 0x8004207196 0x800421d127 0x800421cc5a 0x8004208d5c 0x800420917a 0x8004218713 0x800420c066 0x800421ee2b 0x800421d6f0 0x800421bbda 0x8004207196 0x800421d127 0x800421cc5a 0x8004208d5c 0x800420917a 0x800421d8bb 0x800421d05f 0x800421cccf 0x4002d0 0x400dad 0x400df6
Translation of call stack:
0x0000008004217f61: debug_panic (lib/kernel/debug.c:32)
0x00000080042070d0: thread_current (threads/thread.c:286)
0x000000800420a61e: lock_held_by_current_thread (threads/synch.c:293)
0x000000800421b266: console_locked_by_current_thread (lib/kernel/console.c:111 (discriminator 2))
0x000000800421b433: putchar_have_lock (lib/kernel/console.c:173)
0x000000800421b417: vprintf_helper (lib/kernel/console.c:166)
0x0000008004216460: format_string (lib/stdio.c:529 (discriminator 3))
0x0000008004215b98: __vprintf (lib/stdio.c:284)
0x000000800421b2c6: vprintf (lib/kernel/console.c:123)
0x0000008004215464: printf (lib/stdio.c:80)
0x000000800421d11b: exit (userprog/syscall.c:168)
0x000000800421cc5a: page_fault (userprog/exception.c:150)
0x0000008004208d5c: intr_handler (threads/interrupt.c:365)
0x000000800420917a: intr_entry (threads/intr-stubs.o:?)
0x000000800421ee18: file_close (filesys/file.c:57)
0x000000800421d6f0: close (userprog/syscall.c:383)
0x000000800421bbda: process_exit (userprog/process.c:316 (discriminator 3))
0x0000008004207196: thread_exit (threads/thread.c:309)
0x000000800421d127: fork (userprog/syscall.c:173)
0x000000800421cc5a: page_fault (userprog/exception.c:150)
0x0000008004208d5c: intr_handler (threads/interrupt.c:365)
0x000000800420917a: intr_entry (threads/intr-stubs.o:?)
0x000000800421f055: file_allow_write (filesys/file.c:137)
0x000000800421ee02: file_close (filesys/file.c:56)
0x000000800421d6f0: close (userprog/syscall.c:383)
0x000000800421bbda: process_exit (userprog/process.c:316 (discriminator 3))
0x0000008004207196: thread_exit (threads/thread.c:309)
0x000000800421d127: fork (userprog/syscall.c:173)
0x000000800421cc5a: page_fault (userprog/exception.c:150)
0x0000008004208d5c: intr_handler (threads/interrupt.c:365)
0x000000800420917a: intr_entry (threads/intr-stubs.o:?)
0x0000008004218713: list_push_front (lib/kernel/list.c:208)
0x000000800420c066: free (threads/malloc.c:222)
0x000000800421ee2b: file_close (filesys/file.c:59)
0x000000800421d6f0: close (userprog/syscall.c:383)
0x000000800421bbda: process_exit (userprog/process.c:316 (discriminator 3))
0x0000008004207196: thread_exit (threads/thread.c:309)
0x000000800421d127: fork (userprog/syscall.c:173)
0x000000800421cc5a: page_fault (userprog/exception.c:150)
0x0000008004208d5c: intr_handler (threads/interrupt.c:365)
0x000000800420917a: intr_entry (threads/intr-stubs.o:?)
0x000000800421d8bb: munmap (userprog/syscall.c:444)
0x000000800421d05f: syscall_handler (userprog/syscall.c:136)
0x000000800421cccf: no_sti (userprog/syscall-entry.o:?)
0x00000000004002d0: (unknown)
0x0000000000400dad: (unknown)
0x0000000000400df6: (unknown)
