Kernel command line: -q -f put mmap-read put sample.txt run mmap-read
0 ~ 9fc00 1
100000 ~ 13e0000 1
Pintos booting with: 
	base_mem: 0x0 ~ 0x9fc00 (Usable: 639 kB)
	ext_mem: 0x100000 ~ 0x13e0000 (Usable: 19,328 kB)
Calibrating timer...  157,081,600 loops/s.
hd0:0: detected 337 sector (168 kB) disk, model "QEMU HARDDISK", serial "QM00001"
hd0:1: detected 20,160 sector (9 MB) disk, model "QEMU HARDDISK", serial "QM00002"
hd1:0: detected 110 sector (55 kB) disk, model "QEMU HARDDISK", serial "QM00003"
hd1:1: detected 8,064 sector (3 MB) disk, model "QEMU HARDDISK", serial "QM00004"
Formatting file system...done.
Boot complete.
Putting 'mmap-read' into the file system...
Putting 'sample.txt' into the file system...
Executing 'mmap-read':
(mmap-read) begin
(mmap-read) open "sample.txt"
(mmap-read) mmap "sample.txt"
1pass
2pass
3pass
do unmap
1
2
3
3-1
3-2
4
mmap-read: exit(-1)
mmap-read: exit(-1)
mmap-read: exit(-1)
mKernel PANIC at ../../threads/thread.c:285 in thread_current(): assertion `is_thread(t)' failed.
Call stack: 0x8004217f61 0x80042070d0 0x800420a61e 0x800421b266 0x800421b433 0x800421b417 0x8004216460 0x8004215b98 0x800421b2c6 0x8004215464 0x800421d11b 0x800421cc5a 0x8004208d5c 0x800420917a 0x800421ee18 0x800421d6f0 0x800421bbda 0x8004207196 0x800421d127 0x800421cc5a 0x8004208d5c 0x800420917a 0x800421f055 0x800421ee02 0x800421d6f0 0x800421bbda 0x8004207196 0x800421d127 0x800421cc5a 0x8004208d5c 0x800420917a 0x8004218713 0x800420c066 0x800421ee2b 0x800421d6f0 0x800421bbda 0x8004207196 0x800421d127 0x800421cc5a 0x8004208d5c 0x800420917a 0x800421d8bb 0x800421d05f 0x800421cccf 0x4002d0 0x400dad 0x400df6 0Interrupt 0x0d (#GP General Protection Exception) at rip=8004214f9b
 cr2=0000008000000cfa error=               0
rax 0000800421a55c00 rbx 0000008004243000 rcx 00000080040b8000 rdx 00000000000003d4
rsp 00000080042433f0 rbp 0000008004243400 rsi 000000000000b40f rdi 0000000000000000
rip 0000008004214f9b r8 0000008004243308  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000006
es: 0010 ds: 0010 cs: 0008 ss: 0010
Kernel PANIC recursion at ../../userprog/exception.c:99 in kill().
Interrupt 0x0d (#GP General Protection Exception) at rip=80042201b8
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004222d75 rdx 0000000000000018
rsp 0000008004242e40 rbp 0000008004242e50 rsi 000000000000011d rdi cccccccccccccccc
rip 00000080042201b8 r8 0000008004222e0e  r9 0000008004217e86 r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000002
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000021
rsp 0000008004242c30 rbp 0000008004242c40 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 000000000000002a
rsp 0000008004242a20 rbp 0000008004242a30 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000033
rsp 0000008004242810 rbp 0000008004242820 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 000000000000003c
rsp 0000008004242600 rbp 0000008004242610 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000005
rsp 00000080042423f0 rbp 0000008004242400 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 000000000000000e
rsp 00000080042421e0 rbp 00000080042421f0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000017
rsp 0000008004241fd0 rbp 0000008004241fe0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000020
rsp 0000008004241dc0 rbp 0000008004241dd0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000029
rsp 0000008004241bb0 rbp 0000008004241bc0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000032
rsp 00000080042419a0 rbp 00000080042419b0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 000000000000003b
rsp 0000008004241790 rbp 00000080042417a0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000004
rsp 0000008004241580 rbp 0000008004241590 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 000000000000000d
rsp 0000008004241370 rbp 0000008004241380 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000016
rsp 0000008004241160 rbp 0000008004241170 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 000000000000001f
rsp 0000008004240f50 rbp 0000008004240f60 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000028
rsp 0000008004240d40 rbp 0000008004240d50 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000031
rsp 0000008004240b30 rbp 0000008004240b40 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 000000000000003a
rsp 0000008004240920 rbp 0000008004240930 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000003
rsp 0000008004240710 rbp 0000008004240720 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 000000000000000c
rsp 0000008004240500 rbp 0000008004240510 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000015
rsp 00000080042402f0 rbp 0000008004240300 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 000000000000001e
rsp 00000080042400e0 rbp 00000080042400f0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000027
rsp 000000800423fed0 rbp 000000800423fee0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000030
rsp 000000800423fcc0 rbp 000000800423fcd0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000039
rsp 000000800423fab0 rbp 000000800423fac0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000002
rsp 000000800423f8a0 rbp 000000800423f8b0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 000000000000000b
rsp 000000800423f690 rbp 000000800423f6a0 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
Interrupt 0x0d (#GP General Protection Exception) at rip=800421fc9e
 cr2=0000008000000cfa error=               0
rax cccccccccccccccc rbx 0000008004243000 rcx 0000008004227648 rdx 0000000000000014
rsp 000000800423f480 rbp 000000800423f490 rsi 000000000000000a rdi cccccccccccccccc
rip 000000800421fc9e r8 0000008004217e86  r9 000000800421b3da r10 0000000000000000
r11 0000000000000216 r12 000000800421cda6 r13 0000010424300000 r14 0000800424304000
r15 0000800422bdd800 rflags 00000086
es: 0010 ds: 0010 cs: 0008 ss: 0010
